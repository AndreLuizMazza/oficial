/* src/styles/globals.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Altura total */
html, body, #root { height: 100%; }

/* ===== Progem Docs Palette ===== */
:root{
  --doc-primary-500: #3b82f6;
  --doc-primary-600: #2563eb;
  --doc-primary-700: #1d4ed8;
  --doc-success-500: #22c55e;
  --doc-warn-500:    #f59e0b;

  --doc-fg: #0f172a;
  --doc-muted:#475569;
  --doc-bg: #ffffff;
  --doc-surface: #ffffff;
  --doc-surface-2:#f8fafc;
  --doc-border: #e2e8f0;
}
html.dark{
  --doc-primary-500: #6ea8ff;
  --doc-primary-600: #4b8dff;
  --doc-primary-700: #2f6feb;
  --doc-success-500: #49cc90;
  --doc-warn-500:    #f1b24a;

  --doc-fg: #e7edf6;
  --doc-muted:#9fb0c1;
  --doc-bg: #0b1220;
  --doc-surface: #0d1526;
  --doc-surface-2:#0f1b33;
  --doc-border: #1f2a44;
}

:root{
  --c-bg: var(--doc-bg);
  --c-surface: var(--doc-surface);
  --c-surface-2: var(--doc-surface-2);
  --c-fg: var(--doc-fg);
  --c-muted: var(--doc-muted);
  --c-border: var(--doc-border);

  --c-primary: var(--doc-primary-600);
  --c-primary-hover: var(--doc-primary-700);
  --c-primary-contrast: #ffffff;

  --c-accent: var(--doc-success-500);
  --c-ring: color-mix(in oklab, var(--doc-primary-600) 35%, transparent);
}

body{ background: var(--c-bg); color: var(--c-fg); }

::selection { background: var(--c-primary); color: var(--c-primary-contrast); }

:focus-visible {
  outline: none;
  box-shadow: 0 0 0 4px var(--c-ring);
  border-radius: .5rem;
}

/* Botões */
.btn{ @apply inline-flex items-center gap-2 rounded-xl px-4 py-2 font-medium transition; }
.btn-primary{
  color: var(--c-primary-contrast);
  background: linear-gradient(180deg, color-mix(in oklab, var(--c-primary) 95%, white 5%), var(--c-primary-hover));
  box-shadow:
    0 8px 24px color-mix(in oklab, var(--c-primary) 20%, transparent),
    inset 0 1px 0 rgba(255,255,255,.15);
}
.btn-primary:hover{ filter: brightness(1.05); }
.btn-ghost{ border: 1px solid var(--c-border); background: var(--c-surface); }
.btn-ghost:hover{ background: var(--c-surface-2); }

/* Cards / textos utilitários */
.card{ border: 1px solid var(--c-border); background: var(--c-surface); border-radius: 1rem; box-shadow: 0 10px 30px rgba(2,6,23,0.06); }
.muted{ color: var(--c-muted); }

.only-light { display: block; }
.only-dark  { display: none; }
.dark .only-light { display: none; }
.dark .only-dark  { display: block; }

.theme-transition * { transition: background-color .2s, color .2s, border-color .2s, filter .2s; }

.badge {
  display:inline-flex;align-items:center;gap:.4rem;
  font-size:.75rem;padding:.25rem .5rem;border-radius:.5rem;
  border:1px solid var(--c-border); background:var(--c-surface-2);
}

/* Helpers rápidos */
.input{
  @apply w-full rounded-lg px-3 py-2 outline-none;
  border: 1px solid var(--c-border);
  background: var(--c-surface);
}
.input:focus{
  box-shadow: 0 0 0 2px var(--c-primary);
}

.label{ @apply text-sm font-medium; color: var(--c-muted); }
.link{ @apply hover:underline; color: var(--c-primary); }

.input-with-icon { position: relative; }
.input-with-icon .icon {
  position:absolute; left:0.75rem; top:50%; transform:translateY(-50%);
  width:1rem; height:1rem; color: var(--c-muted);
}
.input-with-icon .input { padding-left: 2.25rem; }

/* CTA de demonstração em laranja */
.btn-demo,
.btn[data-cta="demo"],
a.btn[href^="/demo"] {
  --c-primary: #EA580C;          /* orange-600 */
  --c-primary-hover: #C2410C;    /* orange-700 */
  --c-primary-contrast: #ffffff; /* texto */
  --c-primary-ring: rgba(234, 88, 12, 0.35);
}

/* hero grid/halo */
.hero-grid { position: relative; isolation: isolate; }
.hero-grid::before{
  content:"";
  position:absolute; inset:0;
  background:
    linear-gradient(var(--c-border) 1px, transparent 1px) 0 0/28px 28px,
    linear-gradient(90deg, var(--c-border) 1px, transparent 1px) 0 0/28px 28px;
  mask: radial-gradient(1400px 280px at 50% -10%, #000 55%, transparent);
  opacity:.35; pointer-events:none; z-index:-1;
}
.hero-halo{
  position:absolute; inset:0; pointer-events:none; z-index:-1;
  background: radial-gradient(1100px 220px at 50% 0,
    color-mix(in oklab, var(--c-primary) 28%, transparent) 0%,
    transparent 60%);
  opacity:.7;
}

/* Glass base + noise */
.card--glass{
  background: color-mix(in oklab, var(--c-surface) 86%, transparent);
  backdrop-filter: saturate(140%) blur(6px);
  border: 1px solid color-mix(in oklab, var(--c-border) 70%, transparent);
  position: relative; overflow: hidden;
}
.card--glass::after{
  content:""; position:absolute; inset:0; pointer-events:none;
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' opacity='.05'><filter id='n'><feTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='2' stitchTiles='stitch'/></filter><rect width='100%' height='100%' filter='url(%23n)'/></svg>");
  mix-blend-mode: soft-light;
}

/* Títulos fluídos */
.h1-fluid { font-size: clamp(1.875rem, 1.2rem + 2.2vw, 2.5rem); line-height:1.15; }
.h2-fluid { font-size: clamp(1.375rem, 1rem + 1.4vw, 2rem); }
.p-fluid  { font-size: clamp(1rem, .94rem + .4vw, 1.125rem); }

/* Timeline */
.timeline{ position: relative; padding-left: 3rem; }
.timeline::before{
  content:""; position:absolute; left:1rem; top:0; bottom:0; width:2px;
  background: linear-gradient(180deg,
    color-mix(in oklab, var(--c-primary) 60%, transparent),
    var(--c-border) 30%,
    var(--c-border) 70%,
    color-mix(in oklab, var(--c-primary) 60%, transparent));
  opacity:.8;
}
.timeline-dot{
  position:absolute; left:.5rem; width:1.5rem; height:1.5rem; border-radius:9999px;
  border:1px solid var(--c-border); background: var(--c-surface-2);
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--c-primary) 18%, transparent);
}

/* Foco consistente */
:where(a,button,[role="button"], input, select, textarea):focus-visible{
  outline:none;
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--c-primary) 35%, transparent);
  border-color: color-mix(in oklab, var(--c-primary) 55%, var(--c-border));
}

/* Link sublinhado só no hover/focus */
a:not(.btn):where(:hover, :focus-visible){ text-decoration: underline; }


.only-light { display: block; }
.only-dark  { display: none; }
.dark .only-light { display: none; }
.dark .only-dark  { display: block; }
